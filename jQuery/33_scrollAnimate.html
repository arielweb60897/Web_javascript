<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>jQuery</title>
	<style>
		*{
			margin: 0;
		}
		.area{
			height: 900px;
			opacity: 0;
		}
		.area p{
			font: bold 200px Calibri;
			text-align: center;
			line-height: 300px;
		}
		.area:nth-child(1){background-color: red;}
		.area:nth-child(2){background-color: orange;}
		.area:nth-child(3){background-color: yellow;}
		.area:nth-child(4){background-color: green;}
		.area:nth-child(5){background-color: blue;}
	</style>
	<script src="./js/jquery-3.7.1.js"></script>
	<script>
		$(function () {
			$('.area:first').css('opacity',1)
			let showHeight = 200

			$(window).scroll(function(){
				// console.log($(window).height());	// 585
				// console.log(Math.round($(window).scrollTop())); // 3915
				// 每個 div 的高度是 900px

				// console.log($(this));
				
				$('.area').each(function(){
					let setThis = $(this)
					let areaTop = setThis.offset().top // 物件和螢幕上面的距離
					// console.log(areaTop);  // 0 --> 900 --> 1800 --> 2700 --> 3600

					if($(window).scrollTop() >= (areaTop + showHeight) - $(window).height()){
						setThis.stop().animate({opacity: 1}, 800)
					}else{
						setThis.stop().animate({opacity: 0}, 1000)
					}
					
				})
			})
		})	
	</script>
</head>

<body>
    <div class="area"><p>1</p></div>
    <div class="area"><p>2</p></div>
    <div class="area"><p>3</p></div>
    <div class="area"><p>4</p></div>
    <div class="area"><p>5</p></div>
</body>

</html>